<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="src/css/materialize.css">
    <meta http-equiv="Cache-Control" content="no-cache" />
    <link rel="stylesheet" href="./src/css/materialdesignicons.css">
   
    <link rel="stylesheet" href="./src/css/bulma.css">
    <link rel="stylesheet" href="./src/css/style.css">
    <title>Title</title>
</head>

<body>
    <div id="app">
        <preloader ms="0"></preloader>
        <div class="columns center">
       
            <div class="column is-3 is-offset-3 ">
                <p>Дата начала:</p>
                <input type="text" class="datepicker input" v-model.lazy="date1">
            </div>
     
            <div class="column is-3">
                <p>Дата конца:</p>
                <input type="text" class="datepicker input" v-model.lazy="date2">
            </div>
         
        </div>

      <div class="toolbar center block">

   <div class="block ">

 
        <div class="button is-success block" @click="changeOnServer">Сохранить</div>
        <div class="button is-primary block" @click="clearSome(false)">Сбросить выборку</div>
        <div class="button is-primary block" @click="some.step = 0;enterSome()">Выбрать несколько</div>
        <div class="button is-primary block" @click="moveSome">Переместить выборку</div>
        <div class="button is-primary block" @click="history.copy = true;moveSome()">Переместить выборку с копираванием</div>
        <button class="button is-info block" @click="moveHistory(false)" :disabled="history.isFirst"> <span class="mdi mdi-undo"></span></button>
        <button class="button is-info block" @click="moveHistory(true)" :disabled="history.isLast"><span class="mdi mdi-redo"></span></button>
    </div>


        <div  class="columns block"><input type="text" placeholder="Для нескольких"  class="input column is-4 is-offset-4"  v-model='some.input'></div> 

    </div>
    
       
        <div class="table-container" >

  
            <table  class="table is-striped is-hoverable ">
                <thead>
                <tr>
                    <th></th>
                    <th v-for="day in tabelFiltred" class="center" >{{day.date}}</th>
                </tr>
                <tr>
                    <td>ФИО</td>
                    <th v-for="day in tabelFiltred" class="center" >{{ day.date | dayOfWeek}}</th>
    
                </tr>
            </thead>
            <tbody>
                <tr v-for="employee in employees">
                    <td style="width: 1%;
                    white-space: nowrap; text-align: left;"> {{employee['full_name']}}</td>
                    <td v-for="day in tabelFiltred" class="center"  :class="{'has-background-danger' : day.somes.includes(employee.nid),
                            'has-background-warning' :  day.presomes.includes(employee.nid) }" @mouseover="preEnterSome(day,employee.nid)"><input class=" input p0 center "  :class="{
                            'has-background-info' : day.body[employee.nid].trim() == 'З',
                            'has-background-danger': day.body[employee.nid].trim() == 'В',
                            'has-background-primary' : day.body[employee.nid].trim() == 'О',
                            'has-background-warning' : day.body[employee.nid].trim() == 'Б',
                            'has-background-success':       Number(day.body[employee.nid].trim()) == 7  || Number(day.body[employee.nid].trim().replace(',','.')) == 8.25 ||    Number(day.body[employee.nid].trim().replace(',','.')) == '8'       }
                    
                    
                    " @click="enterSome(day, employee.nid)"  type="text"
                            v-model="day.body[employee.nid]" name="" @input="filterInput(day, employee.nid)">
                    </td>
    
                </tr>
            </tbody>
            </table>
        </div>
   
    </div>

    <script src="./src/js/components/preloader.js"></script>
    <script src="./src/js/kalendar.js"></script>
    <script src="./src/js/materializeWithKvartal.js"></script>
    <script src="./src/js/axios.js"></script>
    <script src="./src/js/vue.js"></script>
    <script src="./src/js/editTable.js"></script>
    
</body>

</html>